[local]
localhost ansible_connection=local

[kind-nodes]
kind-worker-1 ansible_host=<NODE_IP>
EOF

cat > deploy.yml << 'EOF'
---
- name: Configure Kind K8s environment
  hosts: local
  tasks:
    - name: Ensure kubectl is installed
      command: kubectl version --client
      register: kubectl_version

    - name: Display kubectl version
      debug:
        var: kubectl_version.stdout

    - name: Apply Kubernetes manifests
      command: kubectl apply -f ../k8s/

- name: Verify deployment
  hosts: local
  tasks:
    - name: Check pod status
      command: kubectl get pods
      register: pod_status

    - name: Display pod status
      debug:
        var: pod_status.stdout